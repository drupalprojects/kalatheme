/*! kalatheme - v3.0.0+dev - 2014-04-18
* https://drupal.org/project/kalatheme
* Copyright (c) 2014 ; Licensed  */
(function(){!function(a){null==window.Drupal&&(window.Drupal={}),null==Drupal.CTools&&(Drupal.CTools={Modal:{show:null}}),Drupal.CTools.Modal.show=function(b){var c,d,e,f;d={},b&&"string"==typeof b&&Drupal.settings[b]?a.extend(!0,d,Drupal.settings[b]):b&&a.extend(!0,d,b),c={modalTheme:"CToolsModalDialog",throbberTheme:"CToolsModalThrobber",animation:"show",animationSpeed:"fast",modalSize:{type:"scale",width:.8,height:.8,addWidth:0,addHeight:0,contentRight:25,contentBottom:45},modalOptions:{opacity:.55,background:"#fff"}},f={},a.extend(!0,f,c,Drupal.settings.CToolsModal,d),Drupal.CTools.Modal.currentSettings&&Drupal.CTools.Modal.currentSettings!==f&&(Drupal.CTools.Modal.modal.remove(),Drupal.CTools.Modal.modal=null),Drupal.CTools.Modal.currentSettings=f,e=function(b){var c,d,e;c=b?document:Drupal.CTools.Modal.modal,"scale"===Drupal.CTools.Modal.currentSettings.modalSize.type?(e=a(window).width()*Drupal.CTools.Modal.currentSettings.modalSize.width,d=a(window).height()*Drupal.CTools.Modal.currentSettings.modalSize.height):(e=Drupal.CTools.Modal.currentSettings.modalSize.width,d=Drupal.CTools.Modal.currentSettings.modalSize.height),a("div.ctools-modal-dialog",c).css({width:e+Drupal.CTools.Modal.currentSettings.modalSize.addWidth+"px",height:d+Drupal.CTools.Modal.currentSettings.modalSize.addHeight+"px"}),a("div.ctools-modal-dialog .modal-body",c).css({width:e-Drupal.CTools.Modal.currentSettings.modalSize.contentRight+"px",height:d-Drupal.CTools.Modal.currentSettings.modalSize.contentBottom+"px"})},Drupal.CTools.Modal.modal||(Drupal.CTools.Modal.modal=a(Drupal.theme(f.modalTheme)),"scale"===f.modalSize.type&&a(window).bind("resize",e)),a("body").addClass("modal-open"),e(),a(".modal-title",Drupal.CTools.Modal.modal).html(Drupal.CTools.Modal.currentSettings.loadingText),Drupal.CTools.Modal.modalContent(Drupal.CTools.Modal.modal,f.modalOptions,f.animation,f.animationSpeed),a("#modalContent .modal-body").html(Drupal.theme(f.throbberTheme))},Drupal.CTools.Modal.dismiss=function(){console.log("oi"),Drupal.CTools.Modal.modal&&(a("body").removeClass("modal-open"),Drupal.CTools.Modal.unmodalContent(Drupal.CTools.Modal.modal))},null==Drupal.theme&&(Drupal.theme=function(){}),Drupal.theme.prototype.CToolsModalDialog=function(){var a;return a="",a+='  <div id="ctools-modal">',a+='    <div class="ctools-modal-dialog modal-dialog">',a+='      <div class="modal-content">',a+='        <div class="modal-header">',a+='          <button type="button" class="close ctools-close-modal" aria-hidden="true">&times;</button>',a+='          <h4 id="modal-title" class="modal-title">&nbsp;</h4>',a+="        </div>",a+='        <div id="modal-content" class="modal-body">',a+="        </div>",a+="      </div>",a+="    </div>",a+="  </div>"},Drupal.theme.prototype.CToolsModalThrobber=function(){var a;return a="",a+='  <div class="loading-spinner" style="position: absolute; top: 45%; left: 50%">',a+='    <i class="fa fa-cog fa-spin fa-3x"></i>',a+="  </div>"}}(jQuery)}).call(this),function(){!function(a){var b;return null==window.Drupal&&(window.Drupal={}),b=function(){function b(b,c,d,e){var f,g;this.id=b,this.updateCallback=c,this.method=d,this.errorCallback=e,f=a('<div class="progress-wrapper" aria-live="polite"></div>'),g='<div id ="'+this.id+'" class="progress progress-striped active"',g+='aria-describedby="message'+this.id+'">\n<div class="progress-bar"',g+=' role="progressbar" aria-valuemin="0" aria-valuemax="100" ',g+='aria-valuenow="0">\n<div class="percentage">\n</div>\n</div>\n</div>',g+='</div>\n<div class="percentage pull-right"></div>\n',g+='<p class="message help-block" id="message'+this.id+'"></p>',f.html(g),this.element=f}var c;return c=b,b.prototype.setProgress=function(b,c){return b>=0&&100>=b&&(a("div.progress-bar",this.element).css("width",b+"%"),a("div.progress-bar",this.element).attr("aria-valuenow",b),a("div.percentage",this.element).html(b+"%")),a("div.message",this.element).html(c),this.updateCallback?this.updateCallback(b,c,this):void 0},b.prototype.startMonitoring=function(a,b){return this.delay=b,this.uri=a,this.sendPing()},b.prototype.stopMonitoring=function(){return clearTimeout(this.timer),this.uri=null},b.prototype.sendPing=function(){return this.timer&&clearTimeout(this.timer),this.uri?(c=this,a.ajax({type:this.method,url:this.uri,data:"",dataType:"json",success:function(a){return 0===a.status&&c.displayError(a.data),c.setProgress(a.percentage,a.message),c.timer=setTimeout(function(){return c.sendPing()},c.delay)},error:function(a){return c.displayError(Drupal.ajaxError(a,c.uri))}})):void 0},b.prototype.displayError=function(b){var c,d;return d='<div class="alert alert-block alert-error" role="alert">',d+='<button type="button" class="close"',d+=' data-dismiss="alert">&times;</button>',d+="<h4>Error message</h4></div>",c=a(d).append(b),a(this.element).before(c).hide(),this.errorCallback?this.errorCallback(this):void 0},b}(),Drupal.progressBar=b}(jQuery)}.call(this);
//# sourceMappingURL=kalatheme.map